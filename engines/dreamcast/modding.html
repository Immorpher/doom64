<!DOCTYPE html>
<html>
<head>
	<title id="title">Dreamcast Modding Guide</title>
	<meta property="og:title" content="Dreamcast Modding Guide" />
	<meta property="og:site_name" content="Doom 64 Compendium" />
	<meta property="og:description" content="Doom 64 Compendium documents the Doom 64 engine, its ports, and how to build content for them." />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://www.doom64.com/" />
	<meta property="og:image" content="https://www.doom64.com/d64c.png" />
	<meta property="og:image:width" content="1200" />
	<meta property="og:image:height" content="630" />
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<script src="../../scripts.js" type="text/JavaScript"></script>
	<link rel="stylesheet" href="../../style.css" />
	<link rel="icon" type="image/x-icon" href="../../favicon.svg" />
</head>
<body>
	<div id="navigation"></div>
	
	<div id="content">
	
		<h1>Dreamcast Modding Guide</h1>

			<p><a href="https://github.com/jnmartin84/doom64-dc">Doom 64 Dreamcast</a> is perhaps the most moddable console port of Doom 64 given that most of its assets exist separately outside of archives. Specifically its "wadtool" will extract the assets of the Nintendo 64 ROM of Doom 64 into folders within the "selfboot" directory.</p>
			
			<ul>
				<li><a href="#Compiling">Compiling</a></li>
				<li><a href="#Maps">Maps</a></li>
				<li><a href="#Audio">Audio</a></li>
			</ul>
			
		<h2 id="Compiling">Compiling</h2>
			
			<p><a href="https://colab.research.google.com/drive/1qkODLG1009ZPBHfMD7wF1qmcHxxrzZwt">Pcercuei's Doom 64 Builder</a> is an online tool hosted on Google Colab which is already set with the right software and steps to compile Doom 64 for the Dreamcast. After following it's three steps, the "selfboot" directory will be created which will let you swap out and add assets. The "src" directory contains the game's code if you wish to make any changes. After making changes, running the third step in Pcercuei's tool will rebuild the game with your changes.</p>
			
			<p>Alternatively you can build the Dreamcast/KallistiOS compiler toolchain as outlined in <a href="https://github.com/jnmartin84/doom64-dc">JNMartin's guide</a>. This toolchain requires a Linux environment. If you are using Windows you can use the <a href="https://learn.microsoft.com/en-us/windows/wsl/install">Windows Subsystem for Linux (WSL)</a>, <a href="https://www.virtualbox.org/">VirtualBox</a> with a Linux installation, or other similar Linux system software. After following the steps and successfully installing the toolchain, running the "wadtool" will populate the "src" directory with assets that you can modify.</p>
	
		<h2 id="Maps">Maps</h2>
		
			<p>Maps must be in the Nintendo 64 format to run on Doom 64 Dreamcast. With that said, when designing a custom map in Doom Builder 64, it is recommended to make your map initially in the PC format for easy playtesting. Afterwards you can use <a href="https://github.com/Erick194/D64TOOL/releases/">d64tool</a> to convert the PC map to the Nintendo 64 format. Alternatively, Doom Builder 64 has an option when loading a map to convert a PC map to the Nintendo 64 format. After saving this map, you will need to delete the "SCRIPTS" text file from the map WAD with a tool like <a href="https://slade.mancubus.net/">Slade</a>. In general map WADs should only contain one map and no other files except the map data itself.</p>
			
			<p>Once you have a map in the proper format, you can replace any of the maps in the "selfboot/maps" folder with it. If you would like the name of the map to be different in-game, the "src/in_main.c" file contains all of the level names in which you can edit. Then "src/m_main.c" has the names of the episodes if you which to change those names too.</p>
		
		<h2 id="Audio">Audio</h2>
		
			<p>In general, the audio assets are in the ADPCM format. Music resides in the "selfboot/mus" folder in 44.1 kHz 8-bit stereo ADPCM format. While the sound effects reside in the "selfboot/sfx" folder in 22.05 kHz 8-bit stereo ADPCM format. To convert WAV files to ADPCM format, <a href="https://github.com/dbry/adpcm-xq/releases">ADPCM-XQ</a> can be used. Alternatively, KallistiOS contains a tool "wav2adpcm" for this conversion as well. </p>
		
	</div>

	<div id="footer"></div>
	<script>
	layout("../../");
	</script>
</body>
</html>