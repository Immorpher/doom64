<!DOCTYPE html>
<html>
<head>
	<title id="title">Linedefs</title>
	<meta property="og:title" content="Linedefs" />
	<meta property="og:site_name" content="Doom 64 Compendium" />
	<meta property="og:description" content="Doom 64 Compendium documents the Doom 64 engine, its ports, and how to build content for them." />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://www.doom64.com/" />
	<meta property="og:image" content="https://www.doom64.com/d64c.png" />
	<meta property="og:image:width" content="1200" />
	<meta property="og:image:height" content="630" />
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<script src="../scripts.js" type="text/JavaScript"></script>
	<link rel="stylesheet" href="../style.css" />
	<link rel="icon" type="image/x-icon" href="../favicon.svg" />
</head>
<body>
	<div id="navigation"></div>
	
	<div id="content">
		<h1>Linedefs</h1>
		
		<p>A linedef (line definition) is a wall shared by two vertices. It references a sidedef (or two sidedefs if it is double sided) which contains the wall texture data for each linedef. Since not all sidedefs are unique, theoretically multiple linedefs can refer to a singular sidedef, which allows for <a href="nodebuilder/index.html">compression routines</a>. Sectors are formed by connected and enclosed linedefs. Additionally linedefs are used to trigger actions, which make levels more dynamic.</p>
	
		<h2>Line Flags</h2>
		
		<p>Line flags are settings and properties you can apply to linedefs. These change how the textures are rendered and how players, monsters, and projectiles interact with them. For certain flags, such as the texture scrolls, they only work on the front side of the lindef.</p>

		<table>
			<thead>
			<tr>
				<th>Flag Bit</th><th>Editor Setting</th><th>Description</th>
			</td></tr>
			</thead><tbody>
			<tr><td>0x1</td><td>Impassable</td><td>Monsters, players, and projectiles can't cross</td></tr>
			<tr><td>0x2</td><td>Block Monsters</td><td>Monsters can't cross</td></tr>
			<tr><td>0x4</td><td>Double Sided</td><td>Textures can be defined for both sides</td></tr>
			<tr><td>0x8</td><td>Upper Unpegged</td><td>Align upper texture from ceiling origin</td></tr>
			<tr><td>0x10</td><td>Lower Unpegged</td><td>Align lower texture from ceiling origin</td></tr>
			<tr><td>0x20</td><td>Show 1-sided on Automap</td><td>Show line as one-sided with automap (good for secrets)</td></tr>
			<tr><td>0x40</td><td>Block Sound</td><td>Prevent sound from alerting monsters across this linedef (sound can still be heard). In practice two linedefs with this flag are required to successfully prevent an alerting sound from traveling.</td></tr>
			<tr><td>0x80</td><td>Never Show on Automap</td><td>Never show the linedef on automap</td></tr>
			<tr><td>0x100</td><td>Always Show on Automap</td><td>Always show the linedef on automap</td></tr>
			<tr><td>0x200</td><td>Render Middle Texture</td><td>Show middle texture (good for windows and cages)</td></tr>
			<tr><td>0x400</td><td>No Occlusion</td><td>Explicitly allow geometry behind linedef to be rendered</td></tr>
			<tr><td>0x800</td><td>Block Projectiles</td><td>Block all projectiles, but not hitscans, from passing</td></tr>
			<tr><td>0x1000</td><td>Trigger By Dead Thing</td><td>Activate line action by monster death, monster line crossing, or monster interaction</td></tr>
			<tr><td>0x20000</td><td>Scroll Left</td><td>Scroll texture to the left</td></tr>
			<tr><td>0x40000</td><td>Scroll Right</td><td>Scroll texture to the right</td></tr>
			<tr><td>0x80000</td><td>Scroll Up</td><td>Scroll texture upward</td></tr>
			<tr><td>0x100000</td><td>Scroll Down</td><td>Scroll texture downward</td></tr>
			<tr><td>0x200000</td><td>Peg Upper Wall Color</td><td>Begin upper wall gradient from bottom of upper wall</td></tr>
			<tr><td>0x400000</td><td>Peg Lower Wall Color</td><td>End lower wall gradient at the top of the lower wall</td></tr>
			<tr><td>0x800000</td><td>Use Wall Color Blending</td><td>Enable colored gradients on wall, otherwise use thing color for the wall</td></tr>
			<tr><td>0x1000000</td><td>Trigger Only Front Side</td><td>Linedef action can only be activated from the front side</td></tr>
			<tr><td>0x2000000</td><td>Hide Special on Automap</td><td>Hide that the linedef can be activated on automap</td></tr>
			<tr><td>0x4000000</td><td>Flip Upper Pegged Color</td><td>Flip upper wall gradient direction</td></tr>
			<tr><td>0x8000000</td><td>Block Player</td><td>(Super EX+ only) Line will only block player and not other things</td></tr>
			<tr><td>0x10000000</td><td>(not used)</td><td>(not used in the game)</td></tr>
			<tr><td>0x20000000</td><td>(not used)</td><td>(not used in the game)</td></tr>
			<tr><td>0x40000000</td><td>Mirror Texture Horizontal</td><td>Mirror every other texture tile horizontally</td></tr>
			<tr><td>0x80000000</td><td>Mirror Texture Vertical</td><td>Flip every other texture tile vertically</td></tr>
		</tbody></table>
		
		<h3>Additional Switch Flags</h3>
		<p>The way switches work in Doom 64 is unlike other engines, thus it was misunderstood how its switch flags for line definitions behave. Because of this map editors do not always directly edit Doom 64's switch flags, rather they have options which indirectly edit them in various ways. And sometimes flags are mislabeled as "Switch Check Height". Engine-side, however, Doom 64 has four switch flags: two to determine which texture slot the graphic is displayed on and two to determine which texture the switch will be displayed over. Each set of two flags is either for upper or lower texture, and to designate the middle texture both flags are enabled at the same time.</p>
		<table>
			<thead>
			<tr>
				<th>Flag Bit</th><th>Name</th><th>Description</th>
			</td></tr>
			</thead><tbody>
			<tr><td>0x2000</td><td>Switch Decal in Upper</td><td>This signifies the switch graphic is in upper texture spot</td></tr>
			<tr><td>0x4000</td><td>Switch Decal in Lower</td><td>This signifies the switch graphic is in lower texture spot</td></tr>
			<tr><td>0x8000</td><td>Switch Display in Upper</td><td>This signifies the switch graphic is displayed on the upper texture</td></tr>
			<tr><td>0x10000</td><td>Switch Display in Upper</td><td>This signifies the switch graphic is displayed on the lower texture</td></tr>
		</tbody></table>
		

		<h2>Activation Type (Specials)</h2>
		
		<p>In addition to flags, linedefs have special properties which change how they can activate actions.</p>

		<table>
			<thead>
			<tr>
				<th>Flag Bit</th>
				<th>Editor Setting</th>
				<th>Description</th>
			</td></tr>
			</thead><tbody>
			<tr><td>0x0 – 0xFF</td><td>Actions 0 to 255</td><td>These are the normal actions (<a href="actions/index.html">doors, floors, ect...</a>)</td></tr>
			<tr><td>0x100 – 0x1FF</td><td>Actions 256 to 511</td><td>These are the actions which reference macros</td></tr>
			<tr><td>0x200</td><td>Red Key</td><td>Requires a red key to activate</td></tr>
			<tr><td>0x400</td><td>Blue Key</td><td>Requires a blue key to activate</td></tr>
			<tr><td>0x800</td><td>Yellow Key</td><td>Requires a yellow key to activate</td></tr>
			<tr><td>0x1000</td><td>Cross</td><td>Activated by crossing the linedef</td></tr>
			<tr><td>0x2000</td><td>Shoot</td><td>Activated by shooting with a hitscan weapon</td></tr>
			<tr><td>0x4000</td><td>Use</td><td>Activated by the player's use action</td></tr>
			<tr><td>0x8000</td><td>Repeatable</td><td>Can be activated repeatably</td></tr>
		</tbody></table>
		
		<h2>Sidedefs</h2>
		
		<p>As sidedefs (side definitions) require an associated linedef to be displayed within a map, editing their properties typically occurs with linedefs options themselves in editors. Each sidedef contains three texture settings (top, middle, bottom), vertical and horizontal offsets and the number of the sector it faces. A linedef will have one or two sidedefs depending if it is flagged single sided or double sided respectfully. Veritcal and horizontal offsets will also offset the position of any switches, thus allowing for switch positioning. Since not all sidedefs contain unique information in a map, it is possible to reduce the number of them with a <a href="nodebuilder/index.html">compression routine</a>.</p>
		
	</div>

	<div id="footer"></div>
	<script>
	layout("../");
	</script>
</body>
</html>
